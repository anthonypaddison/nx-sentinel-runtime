# 2026-02-16

## What changed
- Renamed `family-board` dashboard/card/assets to `nx-displaygrid` and updated references in HA config/docs.
- Reworked `config/packages/common/home_infra.yaml` sensor definitions to valid HA package schema and renamed it operationally to `nx-sentinel-watchtower` naming.
- Added compatibility fallback in frontend persistence WS calls (`nx_displaygrid/*` then legacy `family_board/*`).
- Added/expanded Node tests covering parser, service, discovery, and helper modules.
- Updated `_mergeConfig` in persistence to use explicit key-presence checks so empty arrays are persisted for `people`, `calendars`, `todos`, and `home_controls`.
- Added `tests/persistence-merge.test.mjs` to verify empty-array override behaviour and missing-key fallback behaviour.

## Why
- Reduce regression risk for your primary family command center and align naming with NX conventions.
- Prevent deleted source lists from reappearing when stored config contains explicit empty arrays.

## How to verify
1. Run `node --test tests/*.test.mjs`.
2. In Home Assistant, run **Check configuration**.
3. Confirm dashboard loads at `nx-displaygrid` and resource URL `/local/nx-displaygrid/nx-displaygrid.js`.
4. Confirm infra sensors/entities initialize without invalid config errors.
5. In **Manage sources**, remove all calendars and save; refresh Lovelace and confirm calendars remain empty.
